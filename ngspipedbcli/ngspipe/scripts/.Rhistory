install.packages('devtools')
install.packages(c("usethis","covr","httr"))
install.packages(c("httr"))
library("devtools")
install.packages(c("httr"))
install.packages(c("openssl"))
Sys.getenv("LD_LIBRARY_PATH")
install.packages("BiocManager")
install.packages("BiocManager")
install.packages("openssl")
BiocManager::install("clusterProfiler")
install.packages("BiocParallel")
install.packages("fgsea")
BiocManager::install("BioParallel")
BiocManager::install("BiocParallel")
BiocManager::install("BiocParallel")
install.packages("openssl")
install.packages("openssl")
install.packages("openssl")
BiocManager::install("BiocParallel")
Sys.getenv("LD_LIBRARY_PATH")
version
Sys.setenv(CONDA_BUILD_SYSROOT="/")
version
Sys.getenv("LD_LIBRARY_PATH")
BiocManager::install("BiocParallel")
BiocManager::install("BiocParallel")
install.packages("httpuv")
BiocManager::install("websocket")
install.packages('websocket')
remotes::install_github('rstudio/websocket')
remotes::install_github('pagedown')
remotes::install_github('rstudio/pagedown')
library(glue)
library(tidyverse)
install.packages('websocket')
withr::with_makevars(c(PKG_LIBS = "-liconv"), install.packages("haven"), assignment = "+=")
withr::with_makevars(c(PKG_LIBS = "-liconv"), install.packages("haven"), assignment = "+=")
install.packages('websocket')
install.packages('tidyverse')
install.packages('pagedown')
install.packages("~/Downloads/pagedown_0.5.tgz", repos = NULL, type = .Platform$pkgType)
library('pagedown')
library('websocket')
install.packages("~/Downloads/websocket_1.1.0.tgz", repos = NULL, type = .Platform$pkgType)
library('websocket')
Sys.getenv()
Sys.getenv()
Sys.setenv(all_proxy="socks5://127.0.0.1:1086")
setwd("~/Documents/NGSPipeDb/ngspipe/scripts")
args$resultDir = "/Users/zhangxuan/Work/Current_work2020-6-21/databasetool/mouse_transcriptome_analysis/results/result/diff_samples"
command = matrix(c(
'help'           , 'h', 0, "logical", 'help message',
'countsMatrix'   , 'm', 1, "character", 'expression must be counts',
'conditionFile'  , 'c', 1, "character",'sample group information',
'resultDir'      , 'r', 1, "character",'sample compare result directory'
), byrow=TRUE, ncol=5)
args = getopt(command)
library('getopt', character.only = TRUE)
command = matrix(c(
'help'           , 'h', 0, "logical", 'help message',
'countsMatrix'   , 'm', 1, "character", 'expression must be counts',
'conditionFile'  , 'c', 1, "character",'sample group information',
'resultDir'      , 'r', 1, "character",'sample compare result directory'
), byrow=TRUE, ncol=5)
args = getopt(command)
args$countsMatrix="/Users/zhangxuan/Work/Current_work2020-6-21/databasetool/mouse_transcriptome_analysis/results/result/quantify/quantify_by_stringtie/gene.csv"
cts <- read.csv(args$countsMatrix, sep=",", row.names="gene_id")
colnames(cts) <- sub("\\.", "-", colnames(cts))
args$conditionFile="/Users/zhangxuan/Work/Current_work2020-6-21/databasetool/mouse_transcriptome_analysis/testdata/condition.xls"
coldata <- read.csv(args$conditionFile, row.names=1,sep=",")
coldata <- coldata[,c("Sample","Tissue")]
rownames(coldata)
colnames(countData)
countData <- as.matrix(cts)
colnames(countData)
!all(rownames(coldata) %in% colnames(countData))
!all(rownames(coldata) == colnames(countData))
rownames(cts)
colnames(coldata)
rownames(coldata)
sort(rownames(coldata))
sort(rownames(coldata))
?sort
sort(rownames(coldata),decreasing = FALSE)
sort(rownames(coldata),decreasing = TRUE)
head(countData)
colnames(countData) <- sort(colnames(cts),decreasing = FALSE)
head(countData)
colnames(countData) <- sort(colnames(cts),decreasing = TRUE)
head(countData)
cts <- read.csv(args$countsMatrix, sep=",", row.names="gene_id")
colnames(cts) <- sub("\\.", "-", colnames(cts))
countData <- as.matrix(cts)
rownames(countData) <- rownames(cts)
sort(colnames(countData),decreasing = TRUE)
head(countData[,sort(colnames(countData),decreasing = TRUE)])
head(countData)
coldata
coldata[,sort(rownames(coldata))]
sort(rownames(coldata))
coldata[,sort(rownames(coldata))]
coldata[sort(rownames(coldata))]
coldata[sort(rownames(coldata)),]
coldata[sort(rownames(coldata),decreasing = TRUE),]
